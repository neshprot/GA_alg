# GA algorithm
## Описание
Програмное обеспечение для биофизических исследований in silico. Представлена реализация метода направленной эволюции на языке Python. Реализованы стандартные функции алгоритма: мутация, кроссинговер и селекция.
## Установка
1. Клонирование репризитория
```git clone https://github.com/neshprot/GA_alg.git```
2. Установка необходимых пакетов
```pip3 install numpy```
## Настройка и запуск програмного обеспечения
Настройка алгоритма происходит через вспомогательные файлы config.ini, sites.
### config.ini
-   FILE - xray структура белка в формате pdb.
-   Descriptors - начальные значения параметров задачи. Если параметров несколько параметры вписываются через пробел.
-   StopStep - максимальное количество подряд идущих генераций популяций с одинаковым лучши мутантом, прежде чем алгоритм завершит работу.
-   Attempts - максиммальное количество попыток мутировать или провести кроссинговер индивида.
-   EvalParam - параметр функции селекции, подбираемый эмпирически
-   PopSize - количество мутантов в одной популяции
-   CrosProb - вероятность возникновения кроссинговера между двумя индивидами в популяции
-   MutProb - вероятность проведения мутации индивида
-   MutNum - максимальное количество мутаций у одного индивида
-   Weights - веса функции приспособленности, задаются в соответствии с порядком задачи параметров задачи. Функция приспособленности - сумма параметров с весами.
-   PositionsSet - позиции аминокислотных остатков в белке
-   UseComputed - принимает на вход True/False. Отвечает за использование файла с уже посчитанными параметрами мутантов в предыдущих запусках.
-   ComputedProteinsFileName - имя файла с посчитанными мутантами
-   ComputeLambdaOuf - имя output-файла для модуля скрининга
-   ComputeLambdaInf - имя input-файла с посчитанными скринингом параметрами мутантов
-   ResultFileName - имя файла с результатами работы алгоритма
### Sites
- Sets - наборы аминокислот подлежащие мутации, разделенные на наборы. Каждый набор необходимо указывать в формате Set1, Set2, ...; Аминокислоты записываются в строку через пробел.
- Pulls - наборы аминокислот на которые происходят замены. Каждый набор необходимо указывать в формате Pull1, Pull2, ...; Аминокислоты записываются в строку через пробел
- Probs - вероятности мутации аминокислот из Sets на аминокислоты из Pulls. Записывается в формате Set$i Pull$j prob1 Pull$k prob2 ... prob_fin. Set$i - i-ый набор аминокислот из Set, Pull#j prob1 - набор аминокислот на которые заменять из Pull и вероятность мутации на них. prob_fin пишется после всех наборов из Pull с соответствующими вероятностями и отвечает за вероятность с которой аминокислоты из Set могут мутировать.
- Constraints - ограничения на мутации на определенных позициях. Каждая строка начинается со слова Positions, далее через пробел указываются номера сайтов, после набор аминокислот из Pull на которые не будет происходить замен ни в коем случае на указанных позициях.
## Результаты работы
В качестве output-файлов алгоритм представляет файлы:
- ResultFileName - файл (имя задается в config.ini) с набором популяций и индивидов внури каждой с посчитанными параметрами. Также выделяющий индивида с наибольшим значением приспособленности внутри каждой популяции
- ComputedProteinsFileName - файл (имя задается в config.ini) с набором всех индивидов и значениями параметров, посчитанными в ходе выполнения алгоритма. Позволяет запустить алгоритм на основе уже посчитанных мутантов
## Формат output и input файлов
- output-файл
Каждая строка отдельный мутант. В строку записаны мутации в формате: M/23/T E/197/D  ... D/88/E, где первая буква аминокислота в начальном белке, число - номер сайта на котором происходит замена, последняя буква - аминокислота на которую произошла замена.
- input-файл
Каждая строка соответствует мутанту, строки необходимо записывать в той же последовательности, что и в output-файле. В каждой строке необходимо занести посчитанные параметры для каждого мутанта. Если для одного мутанта параметров несколько, необходимо внести их в строку через пробел.
